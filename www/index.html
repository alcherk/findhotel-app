<!DOCTYPE html>
<html>
    <head>
      <meta name="viewport" content="initial-scale=1.0">
    </head>
    <body style="text-align:center;padding:0;margin:0;height: 100%">
      <img style="vertical-align: middle;margin-top: 200px" src="img/hc_loader1.gif" />
      <script type="text/javascript" src="phonegap.js"></script>
      <script type="text/javascript" src="js/findhotel.js"></script>
      <script type="text/javascript" src="appsflyer.js"></script>
    </body>

    <script type="text/javascript">
        window.onerror = function(message, url, lineNumber) {
            console.log("Error: " + message + " in " + url + " at line " + lineNumber);
        }
    </script>
    <script language="JavaScript" type="text/javascript">
        // wait for PhoneGap to load
      	document.addEventListener("deviceready", onDeviceReady, false);
      	function onDeviceReady() {
            if (typeof window.device === 'undefined') {
                console.log('DeviceID plugin is not loaded');
            }
            
            window.device = window.device || { uuid: -1 };
            
            if (device.uuid === -1) {
                console.log('DeviceID plugin is not loaded');
            } else {
                console.log('uuid: ' + device.uuid);
            }
            
		    console.log('device ID: ' + device.uuid);
            
		    var devKey = 'Pt68tpKJETmrYNtFEpUwXF';
		    var appId = device.platform == 'android' ? 'eu.innovativetravel.findhotel' : '760878928';
		    var eventName = 'app_started';	// optional
		    var eventValue = device.uuid;	// optional
            
            //window.plugins.appsFlyer.setCustomeUserId(device.uuid);
            
            window.plugins.appsFlyer.notifyAppID(appId, devKey);
		    window.plugins.appsFlyer.notifyAppID(appId, devKey, eventName, eventValue);

		    var gaPlugin;
            
		    gaPlugin = window.plugins.gaPlugin;
		    gaPlugin.init(nativePluginResultHandler, nativePluginErrorHandler, "UA-42637127-21", 10);
            
		    gaPlugin.setVariable( nativePluginResultHandler, nativePluginErrorHandler, 1, device.uuid);
		    gaPlugin.trackPage(nativePluginResultHandler, nativePluginErrorHandler, "app_index.html");
            
		    function nativePluginResultHandler() {
                //alert('Success');
            }
		    function nativePluginErrorHandler() {}
		}
    </script>
</html>
